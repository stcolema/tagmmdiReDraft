% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/makeCMComparisonSummaryDF.R
\name{makeCMComparisonSummaryDF}
\alias{makeCMComparisonSummaryDF}
\title{Make CM Comparison Summary DF}
\usage{
makeCMComparisonSummaryDF(cms, model_description_df)
}
\arguments{
\item{cms}{List of similarity matrices of common size.}

\item{model_description_df}{A data.frame with as many rows as ``cms`` has
entries with a common ordering. Each row is expected to contain the
width/number of chains used in constructing the corresponding consensus
matrix and the depth/iteration from each chain that is used. The column names
should be ``Depth`` and ``Width``.}
}
\description{
Converts a list of consensus matrices into a long data.frame
ready for ggplot2. The matrices are given a common ordering defined by the
list entry in index ``matrix_setting_order``, this is the ``x`` and ``y``
entry in the output and is used in the ``ggplot2`` geom, ``geom_tile``, as
the ``x`` and ``y`` aesthetics.  The description of the ensembles generating
the matrices is given in ``model_description_df`` and is used to annotate the
matrices.
}
\examples{
\dontrun{
model_description_df <- data.frame(
  "Depth" = rep(c(100, 500, 1000), 3),
  "Width" = c(rep(50, 3), rep(100, 3), rep(200, 3))
)
n_models <- nrow(model_description_df)
cms <- vector("list", n_models)
for (ii in seq(1, n_models)) {
  cms[[ii]] <- makeSimilarityMat(mcmc[[ii]]$allocations)
}
mean_abs_diff_df <- makeCMComparisonSummaryDF(cms, model_description_df)

mean_abs_diff_df |>
  dplyr::filter(Quantity_varied == "Depth") |>
  ggplot(aes(x = Depth, y = Mean_absolute_difference, color = factor(Width))) +
  geom_line() +
  labs(title = "Assessing stability across cms for increasing chain depth") +
  ggthemes::scale_color_colorblind()

mean_abs_diff_df |>
  dplyr::filter(Quantity_varied == "Width") |>
  ggplot(aes(x = Width, y = Mean_absolute_difference, color = factor(Depth))) +
  geom_line() +
  labs(title = "Assessing stability across cms for increasing numbers of chains") +
  ggthemes::scale_color_colorblind()
}
}
